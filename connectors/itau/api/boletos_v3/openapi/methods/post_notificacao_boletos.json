{
    "tags": [
        "boletowebhook"
    ],
    "operationId": "post/notificacoes_boletos",
    "description": "Este endpoint tem como objetivo realizar o cadastro da url, credenciais e preferências para notificações das movimentações de baixa operacional e/ou liquidação dos boletos. Abaixo estão listados os parâmetros obrigatórios exigidos e a descrição deles. O cadastro pode ser realizado para baixa operacional e/ou efetiva (liquidação).\n <br></br>\n <b>Importante:</b> Para obter mais informações sobre x-itau-apikey e o x-itau-correlationID, acesse o tópico: Como começar -> Autenticação em Produção -> Fluxos de autenticação Webhook.",
    "parameters": [
        {
            "$ref": "#/components/parameters/x-itau-apikey"
        },
        {
            "$ref": "#/components/parameters/x-itau-correlationid"
        },
        {
            "$ref": "#/paths/~1notificacoes_boletos/get/parameters/2"
        }
    ],
    "requestBody": {
        "content": {
            "application/json": {
                "schema": {
                    "$ref": "#/components/schemas/notificacaoBoleto"
                },
                "examples": {
                    "post_notificacoes_boletos_request": {
                        "summary": "Exemplo de post de notificação boleto",
                        "value": {
                            "data": {
                                "id_beneficiario": 150000154711,
                                "webhook_url": "https://teste1.webhook.com",
                                "webhook_client_id": "821a721a-8873-4b6a-af68-da4a48cb39f6",
                                "webhook_client_secret": "f57850b5-02b0-4c6a-8154-5b94541204ed",
                                "webhook_oauth_url": "https://auth.webhook.com",
                                "webhook_oauth_scope": "boletos-notificacao",
                                "valor_minimo": 1575.15,
                                "tipos_notificacoes": [
                                    "BAIXA_EFETIVA",
                                    "BAIXA_OPERACIONAL"
                                ]
                            }
                        }
                    }
                }
            }
        }
    },
    "responses": {
        "201": {
            "description": "Preferencias Webhook cadastrado com sucesso.",
            "content": {
                "application/json": {
                    "schema": {
                        "$ref": "#/components/schemas/notificacaoBoleto"
                    },
                    "examples": {
                        "201_notificacoes_boletos": {
                            "summary": "Exemplo de coleção de notificações boletos",
                            "value": {
                                "data": [
                                    {
                                        "id_beneficiario": 150000154711,
                                        "tipo_notificacao": "BAIXA_EFETIVA",
                                        "webhook_url": "https://teste1.webhook.com",
                                        "webhook_oauth_url": "https://auth.webhook.com",
                                        "webhook_oauth_scope": "scope",
                                        "valor_minimo": 1575.15,
                                        "data_criacao": "2024-09-09T19:00:00.000Z",
                                        "id_notificacao_boleto": 15000015471101
                                    }
                                ]
                            }
                        }
                    }
                }
            }
        },
        "400": {
            "$ref": "#/paths/~1notificacoes_boletos/get/responses/400"
        },
        "401": {
            "$ref": "#/paths/~1notificacoes_boletos/get/responses/401"
        },
        "403": {
            "$ref": "#/paths/~1notificacoes_boletos/get/responses/403"
        },
        "404": {
            "$ref": "#/paths/~1notificacoes_boletos/get/responses/404"
        },
        "422": {
            "$ref": "#/paths/~1notificacoes_boletos/get/responses/422"
        },
        "500": {
            "$ref": "#/paths/~1notificacoes_boletos/get/responses/500"
        }
    },
    "security": [
        {
            "APIGatewaySTSAuthorizer": []
        }
    ]
}