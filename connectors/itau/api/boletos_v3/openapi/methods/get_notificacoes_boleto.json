{
    "tags": [
        "boletowebhook"
    ],
    "operationId": "get/notificacoes_boletos",
    "description": "Retorna uma lista de notificações que foram cadastradas.",
    "parameters": [
        {
            "$ref": "#/components/parameters/x-itau-apikey"
        },
        {
            "$ref": "#/components/parameters/x-itau-correlationid"
        },
        {
            "in": "header",
            "name": "Authorization",
            "description": "Token de acesso (JWT)",
            "schema": {
                "type": "string"
            },
            "required": true,
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
        },
        {
            "in": "query",
            "name": "id_beneficiario",
            "required": true,
            "description": "4 dígitos da agência concatenado com os 7 dígitos da conta corrente e 1 dígito do DAC .",
            "example": "150000123459",
            "schema": {
                "type": "string"
            }
        }
    ],
    "responses": {
        "200": {
            "description": "Retorna a lista de preferencias do Webhook por benificiário.",
            "content": {
                "application/json": {
                    "schema": {
                        "type": "object",
                        "properties": {
                            "data": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/notificacaoBoleto"
                                }
                            }
                        }
                    },
                    "examples": {
                        "200_notificacoes_boletos": {
                            "summary": "Exemplo de coleção de notificações boletos",
                            "value": {
                                "data": [
                                    {
                                        "id_notificacao_boleto": "15000015471101",
                                        "id_beneficiario": "150000154711",
                                        "tipo_notificacao": "BAIXA_EFETIVA",
                                        "webhook_url": "https://teste_efetiva.webhook.com",
                                        "webhook_oauth_url": "https://ouath1.webhook.com",
                                        "webhook_oauth_scope": "scope1",
                                        "valor_minimo": 1575.15,
                                        "data_criacao": "2022-10-16T09:31:22.000Z"
                                    },
                                    {
                                        "id_notificacao_boleto": "15000015471102",
                                        "id_beneficiario": "150000154711",
                                        "tipo_notificacao": "BAIXA_OPERACIONAL",
                                        "webhook_url": "https://teste_operacional.webhook.com",
                                        "webhook_oauth_url": "https://ouath2.webhook.com",
                                        "webhook_oauth_scope": "scope2",
                                        "valor_minimo": 1575.15,
                                        "data_criacao": "2022-10-16T09:31:22.000Z"
                                    },
                                    {
                                        "id_notificacao_boleto": "15000015257103",
                                        "id_beneficiario": "150000152571",
                                        "tipo_notificacao": "BAIXA_EFETIVA",
                                        "webhook_url": "https://teste2.webhook.com",
                                        "webhook_oauth_url": "https://ouath3.webhook.com",
                                        "webhook_oauth_scope": "scope3",
                                        "valor_minimo": 100.59,
                                        "data_criacao": "2022-06-27T18:48:29.000Z"
                                    }
                                ]
                            }
                        }
                    }
                }
            }
        },
        "400": {
            "content": {
                "application/json": {
                    "schema": {
                        "type": "object",
                        "properties": {
                            "codigo": {
                                "type": "string",
                                "description": "Código do erro"
                            },
                            "mensagem": {
                                "type": "string",
                                "description": "Mensagem de erro"
                            },
                            "campos": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "campo": {
                                            "type": "string",
                                            "description": "Nome do campo que apresentou erro na validação"
                                        },
                                        "mensagem": {
                                            "type": "string",
                                            "description": "Mensagem referente ao erro no campo"
                                        },
                                        "valor": {
                                            "type": "string",
                                            "description": "Conteúdo do campo"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "examples": {
                        "erro_400": {
                            "value": {
                                "codigo": "400",
                                "mensagem": "Corpo da requisição inválido",
                                "campos": [
                                    {
                                        "campo": "campo 1",
                                        "mensagen": "mensagem 1",
                                        "valor": "valor 1"
                                    },
                                    {
                                        "campo": "campo 2",
                                        "mensagen": "mensagem 2",
                                        "valor": "valor 2"
                                    }
                                ]
                            },
                            "description": ""
                        }
                    }
                }
            },
            "description": "Parâmetros incorretos"
        },
        "401": {
            "content": {
                "application/json": {
                    "schema": {
                        "type": "object",
                        "properties": {
                            "codigo": {
                                "description": "Código do erro",
                                "type": "string"
                            },
                            "mensagem": {
                                "type": "string",
                                "description": "Mensagem de erro"
                            }
                        }
                    },
                    "examples": {
                        "erro_401": {
                            "value": {
                                "codigo": "401",
                                "mensagem": "Acesso não autorizado"
                            }
                        }
                    }
                }
            },
            "description": "Não Autorizado"
        },
        "403": {
            "content": {
                "application/json": {
                    "schema": {
                        "type": "object",
                        "properties": {
                            "codigo": {
                                "description": "Código do erro",
                                "type": "string"
                            },
                            "mensagem": {
                                "type": "string",
                                "description": "Mensagem de erro"
                            }
                        }
                    },
                    "examples": {
                        "erro_403": {
                            "value": {
                                "codigo": "403",
                                "mensagem": "Usuário não autorizado a manipular o recurso !"
                            }
                        }
                    }
                }
            },
            "description": "Não Autorizado"
        },
        "404": {
            "content": {
                "application/json": {
                    "schema": {
                        "type": "string",
                        "nullable": true
                    },
                    "examples": {
                        "erro_404": {
                            "value": null
                        }
                    }
                }
            },
            "description": "Recurso não encontrado"
        },
        "422": {
            "content": {
                "application/json": {
                    "schema": {
                        "$ref": "#/paths/~1notificacoes_boletos/get/responses/400/content/application~1json/schema"
                    },
                    "examples": {
                        "erro_422": {
                            "value": {
                                "codigo": "422",
                                "mensagem": "Corpo da requisição inválido",
                                "campos": [
                                    {
                                        "campo": "campo 1",
                                        "mensagen": "mensagem 1",
                                        "valor": "valor 1"
                                    },
                                    {
                                        "campo": "campo 2",
                                        "mensagen": "mensagem 2",
                                        "valor": "valor 2"
                                    }
                                ]
                            },
                            "description": ""
                        }
                    }
                }
            },
            "description": "Parâmetros incorretos"
        },
        "500": {
            "content": {
                "application/json": {
                    "schema": {
                        "$ref": "#/paths/~1notificacoes_boletos/get/responses/400/content/application~1json/schema"
                    },
                    "examples": {
                        "erro_500": {
                            "value": {
                                "codigo": "500",
                                "mensagem": "Erro Inesperado. Entre em contato com o suporte Itaú."
                            },
                            "description": ""
                        }
                    }
                }
            },
            "description": "Parâmetros incorretos"
        }
    },
    "security": [
        {
            "APIGatewaySTSAuthorizer": []
        }
    ]
}